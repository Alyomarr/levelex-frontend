<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Levelex - AI-Architected Automation Solutions</title>
    <meta
      name="description"
      content="Elevate your business with Levelex. We provide cutting-edge, AI-architected automation solutions and intelligent workflows tailored to your needs."
    />
    <meta
      name="keywords"
      content="AI, automation, workflow automation, n8n, intelligent solutions, business process automation, Levelex, SaaS"
    />
    <meta name="author" content="Levelex" />

    <meta
      property="og:title"
      content="Levelex - AI-Architected Automation Solutions"
    />
    <meta
      property="og:description"
      content="Elevate your business with cutting-edge, AI-architected automation solutions and intelligent workflows."
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://your-levelex-domain.com/" />
    <meta
      property="og:image"
      content="https://your-levelex-domain.com/assets/og-image.png"
    />
    <meta property="og:site_name" content="Levelex" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Levelex - AI-Architected Automation Solutions"
    />
    <meta
      name="twitter:description"
      content="Elevate your business with cutting-edge, AI-architected automation solutions and intelligent workflows."
    />
    <meta
      name="twitter:image"
      content="https://your-levelex-domain.com/assets/twitter-image.png"
    />
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />

    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <nav class="navbar">
      <div class="container navbar-container">
        <a href="index.html#home" class="logo">
          <img
            src="assets\LevelX-Photoroom.svg"
            alt="Levelex Logo"
            class="logo-icon"
          />
          <span>Levelex</span>
        </a>
        <ul id="nav-links-ul" class="nav-links">
          <li><a href="index.html#home" class="active">Home</a></li>
          <li><a href="index.html#about">About</a></li>
          <li><a href="index.html#vision">Vision</a></li>
          <li><a href="index.html#what-we-do">What We Do</a></li>
          <li><a href="index.html#case-studies">Case Studies</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
        <div class="auth-buttons">
          <a href="login.html" class="btn-link">Login</a>
          <a href="signup.html" class="btn btn-gradient"
            ><span>Sign Up</span></a
          >
        </div>
        <i id="mobile-menu-btn" class="bx bx-menu mobile-menu-toggle"></i>
      </div>
    </nav>

    <section id="home" class="hero">
      <div class="container hero-content">
        <h1>
          Elevate Your
          <span class="gradient-text">Digital Presence</span>
        </h1>
        <p>
          Levelex is a cutting-edge platform providing AI-architected automation
          solutions using workflows built to integrate seamlessly into client
          systems.
        </p>
        <div class="cta-buttons">
          <a href="#contact" class="btn btn-gradient">
            <span>Get Started <i class="bx bx-right-arrow-alt"></i></span>
          </a>
          <a href="#about" class="btn-link">Learn More</a>
        </div>
      </div>
    </section>

    <section id="about" class="about-us">
      <div class="container">
        <h2 class="section-title">
          About <span class="gradient-text">Levelex</span>
        </h2>
        <div class="about-grid">
          <div class="about-text">
            <p>
              At Levelex, we believe that growth begins with innovation. We're a
              forward-thinking team dedicated to empowering individuals and
              businesses to reach the next level through creativity, technology,
              and smart solutions.
            </p>
            <p>
              Whether it's developing digital solutions, launching new ideas, or
              creating impactful experiences, we're committed to pushing
              boundaries and helping our community move forward — one level at a
              time.
            </p>
            <p>
              Our mission is simple — to build tools, experiences, and
              opportunities that make progress accessible to everyone. We value
              excellence, integrity, and collaboration, and we approach every
              project with passion and purpose. Levelex isn't just a name — it's
              a mindset.
            </p>
          </div>
          <div class="stats-card card">
            <div class="stats-grid">
              <div class="loading-placeholder">Loading stats...</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="vision" class="vision">
      <div class="container">
        <h2 class="section-title">
          Our <span class="gradient-text">Vision</span>
        </h2>
        <p class="section-subheadline">
          To empower businesses worldwide with intelligent, scalable
          solutions...
        </p>
        <div class="feature-grid-3">
          <div class="loading-placeholder">Loading vision items...</div>
        </div>
      </div>
    </section>

    <section id="what-we-do" class="what-we-do">
      <div class="container">
        <h2 class="section-title">
          What We <span class="gradient-text">Do</span>
        </h2>
        <p class="section-subheadline">
          Comprehensive solutions tailored to your business needs.
        </p>
        <div class="feature-grid-2">
          <div class="loading-placeholder">Loading services...</div>
        </div>
      </div>
    </section>

    <section id="case-studies" class="case-studies">
      <div class="container">
        <h2 class="section-title">
          Our <span class="gradient-text">Case Studies</span>
        </h2>
        <p class="section-subheadline">
          Discover how we've helped businesses transform, scale, and succeed...
        </p>
        <div class="case-study-grid">
          <div class="loading-placeholder">Loading case studies...</div>
        </div>
      </div>
    </section>

    <section class="final-cta">
      <div class="container">
        <div class="card final-cta-card">
          <p>
            Join hundreds of businesses already transforming their operations
            with Levelex.
          </p>
          <a href="signup.html" class="btn btn-gradient">
            <span>Start Free Trial <i class="bx bx-right-arrow-alt"></i></span>
          </a>
        </div>
      </div>
    </section>

    <footer class="footer">
      <div class="container">
        <div class="footer-grid">
          <div class="footer-col">
            <a href="index.html#home" class="logo"><span>Levelex</span></a>
            <p>Elevating businesses...</p>
          </div>
          <div class="footer-col">
            <h3>Product</h3>
            <ul>
              <li><a href="#what-we-do">Features</a></li>
              <li><a href="#">Pricing</a></li>
              <li><a href="#">Security</a></li>
            </ul>
          </div>
          <div class="footer-col">
            <h3>Company</h3>
            <ul>
              <li><a href="#about">About</a></li>
              <li><a href="#">Blog</a></li>
              <li><a href="contact.html">Contact</a></li>
            </ul>
          </div>
          <div class="footer-col">
            <h3>Legal</h3>
            <ul>
              <li><a href="#">Privacy</a></li>
              <li><a href="#">Terms</a></li>
            </ul>
          </div>
        </div>
        <div class="copyright-bar">
          <p>© 2025 Levelex. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <script>
      const SUPABASE_URL = "https://mugxkieakyulsoqzrhro.supabase.co"; // ** INTEGRATED **
      const SUPABASE_ANON_KEY =
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im11Z3hraWVha3l1bHNvcXpyaHJvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE0Mjc2NzAsImV4cCI6MjA3NzAwMzY3MH0.D-0TZfEEfsgfHEqppfSDMTj8ix97bEW2XwOYmJD3kh8"; // ** INTEGRATED **

      let supabase = null;
      if (window.supabase) {
        supabase = window.supabase.createClient(
          SUPABASE_URL,
          SUPABASE_ANON_KEY
        );
        console.log("Supabase client initialized.");
      } else {
        console.error("Supabase library not loaded.");
      }
    </script>

    <script>
      // --- Load Dynamic Content for index.html ---
      async function loadPublicContent() {
        if (!supabase) {
          console.error("Supabase client not available for loading content.");
          return;
        }
        console.log("LOG: Starting loadPublicContent..."); // <-- Debug Log
        // Load concurrently
        await Promise.all([
          loadCaseStudies(),
          loadServices(),
          loadVision(),
          loadAboutStats(),
        ]);
        console.log("LOG: Finished loadPublicContent."); // <-- Debug Log
      }

      async function loadCaseStudies() {
        console.log("LOG: Starting loadCaseStudies..."); // <-- Debug Log
        const grid = document.querySelector(".case-study-grid");
        const placeholder = grid
          ? grid.querySelector(".loading-placeholder")
          : null;
        console.log("LOG: Case study grid found:", grid ? "Yes" : "No"); // <-- Debug Log
        if (!grid) return; // Exit if container not found

        try {
          const { data, error } = await supabase
            .from("CaseStudies")
            .select("*");
          console.log("LOG: Supabase CaseStudies response:", { data, error }); // <-- Debug Log
          if (error) throw error; // Throw error to be caught below

          if (placeholder) placeholder.remove(); // Remove placeholder on success
          grid.innerHTML = ""; // Clear grid *after* successful fetch

          if (!data || data.length === 0) {
            console.log("LOG: No case studies found in data."); // <-- Debug Log
            grid.innerHTML =
              '<p class="loading-placeholder">No case studies available yet.</p>';
            return;
          }

          console.log(
            `LOG: Found ${data.length} case studies. Populating grid...`
          ); // <-- Debug Log
          data.forEach((study) => {
            const card = document.createElement("div");
            card.className = "card case-study-card";
            let resultsHtml =
              study.results && Array.isArray(study.results)
                ? study.results
                    .map(
                      (result) =>
                        `<li><i class='bx bxs-check-circle'></i> ${result}</li>`
                    )
                    .join("")
                : "";
            card.innerHTML = `<div class="case-study-img-placeholder"><i class='bx bx-trending-up'></i></div><div class="case-study-content"><span class="client-name">${
              study.client || ""
            }</span><h3>${study.title || "Case Study"}</h3><p>${
              study.description || ""
            }</p><span class="results-title">Key Results:</span><ul>${resultsHtml}</ul><a href="#" class="btn-link">Read Full Case Study <i class='bx bx-right-arrow-alt'></i></a></div>`;
            grid.appendChild(card);
          });
        } catch (error) {
          console.error("Error loading case studies:", error.message);
          grid.innerHTML = `<p class="loading-placeholder" style="color: red;">Error loading case studies.</p>`; // Show error in grid
        }
      }

      async function loadServices() {
        console.log("LOG: Starting loadServices..."); // <-- Debug Log
        const grid = document.querySelector(".feature-grid-2");
        const placeholder = grid
          ? grid.querySelector(".loading-placeholder")
          : null;
        console.log("LOG: Services grid found:", grid ? "Yes" : "No"); // <-- Debug Log
        if (!grid) return;

        try {
          const { data, error } = await supabase.from("Services").select("*");
          console.log("LOG: Supabase Services response:", { data, error }); // <-- Debug Log
          if (error) throw error;
          if (placeholder) placeholder.remove();
          grid.innerHTML = "";
          if (!data || data.length === 0) {
            grid.innerHTML =
              '<p class="loading-placeholder">No services available yet.</p>';
            return;
          }
          console.log(`LOG: Found ${data.length} services. Populating grid...`); // <-- Debug Log
          data.forEach((service) => {
            const card = document.createElement("div");
            card.className = "card feature-card-large";
            const iconClass = service.icon
              ? service.icon.trim()
              : "bx bx-question-mark";
            card.innerHTML = `<i class='${iconClass} card-icon'></i><h3>${
              service.title || "Service"
            }</h3><p>${service.description || ""}</p>`;
            grid.appendChild(card);
          });
        } catch (error) {
          console.error("Error loading services:", error.message);
          grid.innerHTML = `<p class="loading-placeholder" style="color: red;">Error loading services.</p>`;
        }
      }

      async function loadVision() {
        console.log("LOG: Starting loadVision..."); // <-- Debug Log
        const grid = document.querySelector(".feature-grid-3");
        const placeholder = grid
          ? grid.querySelector(".loading-placeholder")
          : null;
        console.log("LOG: Vision grid found:", grid ? "Yes" : "No"); // <-- Debug Log
        if (!grid) return;

        try {
          const { data, error } = await supabase.from("Vision").select("*");
          console.log("LOG: Supabase Vision response:", { data, error }); // <-- Debug Log
          if (error) throw error;
          if (placeholder) placeholder.remove();
          grid.innerHTML = "";
          if (!data || data.length === 0) {
            grid.innerHTML =
              '<p class="loading-placeholder">No vision items available yet.</p>';
            return;
          }
          console.log(
            `LOG: Found ${data.length} vision items. Populating grid...`
          ); // <-- Debug Log
          data.forEach((item) => {
            const card = document.createElement("div");
            card.className = "card feature-card";
            const iconClass = item.icon
              ? item.icon.trim()
              : "bx bx-question-mark";
            card.innerHTML = `<i class='${iconClass} card-icon'></i><h3>${
              item.title || "Vision Item"
            }</h3><p>${item.description || ""}</p>`;
            grid.appendChild(card);
          });
        } catch (error) {
          console.error("Error loading vision:", error.message);
          grid.innerHTML = `<p class="loading-placeholder" style="color: red;">Error loading vision items.</p>`;
        }
      }

      async function loadAboutStats() {
        console.log("LOG: Starting loadAboutStats..."); // <-- Debug Log
        const statsGrid = document.querySelector(".stats-grid");
        const placeholder = statsGrid
          ? statsGrid.querySelector(".loading-placeholder")
          : null;
        console.log("LOG: Stats grid found:", statsGrid ? "Yes" : "No"); // <-- Debug Log
        if (!statsGrid) return;

        try {
          const { data, error } = await supabase
            .from("AboutPage")
            .select("*")
            .eq("id", true)
            .single();
          console.log("LOG: Supabase AboutPage response:", { data, error }); // <-- Debug Log
          if (error) throw error;
          if (!data) throw new Error("No data");
          if (placeholder) placeholder.remove(); // Remove placeholder only on success
          statsGrid.innerHTML = `<div class="stat-item"><span class="stat-number">${
            data.stat_clients || "N/A"
          }</span><span class="stat-label">Happy Clients</span></div><div class="stat-item"><span class="stat-number">${
            data.stat_datapoints || "N/A"
          }</span><span class="stat-label">Data Points</span></div><div class="stat-item"><span class="stat-number">${
            data.stat_uptime || "N/A"
          }</span><span class="stat-label">Uptime</span></div><div class="stat-item"><span class="stat-number">${
            data.stat_support || "N/A"
          }</span><span class="stat-label">Support</span></div>`;
        } catch (error) {
          console.error(
            "Error loading about stats:",
            error?.message || "No data"
          );
          statsGrid.innerHTML = `<p class="loading-placeholder" style="color: red;">Failed to load stats.</p>`;
        }
      }
    </script>

    <script>
      function isMobileView() {
        const btn = document.getElementById("mobile-menu-btn");
        return btn && getComputedStyle(btn).display !== "none";
      }
      async function updateNavbarBasedOnAuthState() {
        if (!supabase) return;
        const {
          data: { session },
        } = await supabase.auth.getSession();
        const authButtonsContainer = document.querySelector(".auth-buttons");
        const navLinksUl = document.getElementById("nav-links-ul");
        if (!navLinksUl) return; // Add guard for navLinksUl
        navLinksUl
          .querySelectorAll(".auth-link-mobile")
          .forEach((el) => el.remove());
        if (authButtonsContainer) authButtonsContainer.innerHTML = "";
        if (session) {
          const dash = `<a href="dashboard.html" class="btn-link">Dashboard</a>`;
          const logout = `<a href="#" id="logout-button-dynamic" class="btn btn-gradient"><span>Logout</span></a>`;
          if (isMobileView()) {
            const li1 = document.createElement("li");
            li1.className = "auth-link-mobile";
            li1.innerHTML = dash;
            navLinksUl.appendChild(li1);
            const li2 = document.createElement("li");
            li2.className = "auth-link-mobile";
            li2.innerHTML = logout;
            navLinksUl.appendChild(li2);
          } else {
            if (authButtonsContainer)
              authButtonsContainer.innerHTML = dash + logout;
          }
          const logoutBtn = document.getElementById("logout-button-dynamic");
          // Ensure listener added only once, handle potential re-creation
          if (logoutBtn && !logoutBtn.dataset.listenerAttached) {
            logoutBtn.addEventListener("click", async (e) => {
              e.preventDefault();
              await supabase.auth.signOut();
            });
            logoutBtn.dataset.listenerAttached = "true";
          }
        } else {
          const login = `<a href="login.html" class="btn-link">Login</a>`;
          const signup = `<a href="signup.html" class="btn btn-gradient"><span>Sign Up</span></a>`;
          if (isMobileView()) {
            const li1 = document.createElement("li");
            li1.className = "auth-link-mobile";
            li1.innerHTML = login;
            navLinksUl.appendChild(li1);
            const li2 = document.createElement("li");
            li2.className = "auth-link-mobile";
            li2.innerHTML = signup;
            navLinksUl.appendChild(li2);
          } else {
            if (authButtonsContainer)
              authButtonsContainer.innerHTML = login + signup;
          }
        }
        // Ensure logout listeners are correctly managed if elements are recreated
        document.querySelectorAll("#logout-button-dynamic").forEach((btn) => {
          if (!btn.dataset.listenerAttached) {
            btn.addEventListener("click", async (e) => {
              e.preventDefault();
              await supabase.auth.signOut();
            });
            btn.dataset.listenerAttached = "true";
          }
        });
      }
    </script>

    <script>
      const mobileMenuBtn = document.getElementById("mobile-menu-btn");
      const navLinksUlForMenu = document.getElementById("nav-links-ul"); // Use different var name to avoid conflict
      if (mobileMenuBtn && navLinksUlForMenu) {
        mobileMenuBtn.addEventListener("click", () => {
          navLinksUlForMenu.classList.toggle("active");
          if (navLinksUlForMenu.classList.contains("active")) {
            mobileMenuBtn.classList.remove("bx-menu");
            mobileMenuBtn.classList.add("bx-x");
          } else {
            mobileMenuBtn.classList.remove("bx-x");
            mobileMenuBtn.classList.add("bx-menu");
          }
        });
      } else {
        console.error("Mobile menu elements not found.");
      }
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        if (typeof loadPublicContent === "function") loadPublicContent(); // Load content on page load
        if (typeof updateNavbarBasedOnAuthState === "function")
          updateNavbarBasedOnAuthState(); // Set initial navbar state
      });
      if (supabase) {
        // Listen for auth changes
        supabase.auth.onAuthStateChange((event, session) => {
          console.log("Auth state changed:", event);
          if (typeof updateNavbarBasedOnAuthState === "function")
            updateNavbarBasedOnAuthState();
        });
      }
      let resizeTimer; // Update navbar on resize
      window.addEventListener("resize", () => {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(() => {
          if (typeof updateNavbarBasedOnAuthState === "function")
            updateNavbarBasedOnAuthState();
        }, 250);
      });
    </script>
  </body>
</html>
